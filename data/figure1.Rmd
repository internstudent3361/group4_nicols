---
title: "figure1.Rmd"
author: "Angelina Lim"
date: "04/07/2021"
output: html_document
---

mean values for dishonestly claimed earnings with 95% CIs - density plot

claim percent by:
data by condition: control, noise, secular, religious
data by site: USA, Czech Rep., Japan

## loading libraries

```{r eval = FALSE}

library(tidyverse)
library(janitor)
library(dplyr)
library(ggplot2)
library(ggdist)

```

## reading nichols et al csv

```{r eval = FALSE}

data1 <- read_csv("~/RFiles/nichols/group4_nicols/data/Nichols_et_al_data.csv")

```

## cleaning data

The data was renamed so it would be easier to enter in R Script. Also only selected the important variables.

```{r eval = FALSE}

data1 <- data1 %>%  
  filter(include == 0) %>% 
  rename(cond = con,
         claimpercent = claim,
         claimmoney = moneyclaim,
         CT_practice = `completion time (practice included)`,
         CT_payments = `completion time (payments only)`,
         religiosity = relig,
         religion = Religion) %>% 
  select(site, claimpercent, cond)

```

## graphing Fig 1 - data by condition

```{r}

fig1_condition <- ggplot(data = data1) +
  geom_col(aes(x = claimpercent, y = cond)) +
  geom_area(aes(x = claimpercent, y = cond)) +
  scale_x_continuous(
    name = "Percent Claimed",
    labels = c(0, 20, 40, 60, 80, 100),
    breaks = c(0, 20, 40, 60, 80, 100)) +
  scale_y_discrete(
    name = NULL) +
  ggtitle(label = "Data By Condition") 

```

Need to name the conditions, and change claim percent so the numbers and labels line up. But, the bars seem right so far (except they are without the error bars).

Combining geom_area and geom_col did not get the result I wanted. I will have to try some other functions to see what works.

### trying raincloud plot

```{r}

fig1_condition_rp <- ggplot(data1, aes(x = cond, y = claimpercent)) +
  ggdist::stat_halfeye(
    adjust = .5,
    width = .5,
    .width = 0,
    point_colour = NA
  ) +
  coord_flip()

```

